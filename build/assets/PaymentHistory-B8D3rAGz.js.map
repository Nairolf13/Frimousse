{"version":3,"file":"PaymentHistory-B8D3rAGz.js","sources":["../../pages/PaymentHistory.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useI18n } from '../src/lib/useI18n';\nimport { useAuth } from '../src/context/AuthContext';\nimport { fetchWithRefresh } from '../utils/fetchWithRefresh';\n\nconst meta = import.meta as { env?: { VITE_API_URL?: string } };\nconst API_URL = meta?.env?.VITE_API_URL ?? '/api';\n\ntype Detail = { childName: string; daysPresent: number; ratePerDay: number; subtotal: number };\ntype RecordType = { id: string; parent: { id?: string; firstName?: string; lastName?: string; email?: string | null; phone?: string | null } | null; total: number; details: Detail[]; createdAt?: string | null; paid?: boolean; invoiceNumber?: string };\n\nexport default function PaymentHistoryPage() {\n  const { t, locale } = useI18n();\n  const [isShortLandscape, setIsShortLandscape] = useState(false);\n  useEffect(() => {\n    if (typeof window === 'undefined' || typeof window.matchMedia !== 'function') return;\n    const mql = window.matchMedia('(max-height: 600px) and (orientation: landscape)');\n    const onChange = () => setIsShortLandscape(Boolean(mql.matches));\n    onChange();\n    if (typeof mql.addEventListener === 'function') mql.addEventListener('change', onChange); else mql.addListener(onChange);\n    window.addEventListener('resize', onChange);\n    window.addEventListener('orientationchange', onChange);\n    return () => { try { if (typeof mql.removeEventListener === 'function') mql.removeEventListener('change', onChange); else mql.removeListener(onChange); } catch { /* ignore */ } window.removeEventListener('resize', onChange); window.removeEventListener('orientationchange', onChange); };\n  }, []);\n  const [month, setMonth] = useState<number>(new Date().getMonth() + 1);\n  const [year, setYear] = useState<number>(new Date().getFullYear());\n  const [data, setData] = useState<RecordType[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [parentFilter, setParentFilter] = useState<string>(''); \n  const [error, setError] = useState<string>('');\n  const [modalVisible, setModalVisible] = useState<boolean>(false);\n  const [modalMessage, setModalMessage] = useState<string>('');\n  const { user } = useAuth();\n\n  function showModal(message: string) {\n    setModalMessage(message);\n    setModalVisible(true);\n  }\n\n  const monthNames = ['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre'];\n  const yearOptions = Array.from({ length: 5 }, (_, i) => new Date().getFullYear() - 2 + i);\n\n  useEffect(() => {\n    let mounted = true;\n    setLoading(true);\n    setError('');\n    fetchWithRefresh(`${API_URL}/payment-history/${year}/${month}`, { credentials: 'include' })\n      .then(async res => {\n        const ct = res.headers.get('content-type') || '';\n        if (!res.ok) {\n          let text;\n          try { text = await res.clone().text(); } catch (e) { text = String(e); }\n          throw new Error(`HTTP ${res.status} ${res.statusText} - ${text}`);\n        }\n        if (!ct.includes('application/json')) {\n          const text = await res.text();\n          throw new Error('Unexpected non-JSON response from API: ' + text.slice(0, 200));\n        }\n        return res.json();\n      })\n      .then(d => { if (mounted) setData(Array.isArray(d) ? d : []); })\n      .catch(err => { console.error('Failed to fetch payment history', err); if (mounted) setData([]); if (mounted) setError(String(err.message || err)); })\n      .finally(() => { if (mounted) setLoading(false); });\n    return () => { mounted = false; };\n  }, [year, month]);\n\n\n  const parents = Array.from(new Map(\n    data.filter(r => r.parent && r.parent.id).map(r => [r.parent!.id!, r.parent!])\n  ).values());\n  const filtered = data.filter(r => {\n    if (parentFilter) {\n      if (!r.parent || r.parent.id !== parentFilter) return false;\n    }\n    return true;\n  });\n\n  const totalRevenue = data.reduce((s, r) => s + (Number(r.total) || 0), 0);\n  const familiesActive = data.length;\n  // Nombre de paiements en attente : seules les entrées non marquées payées ET avec un montant strictement > 0\n  const unpaidCount = data.filter(r => (Number(r.total) || 0) > 0 && !r.paid).length;\n\n  function downloadCSVForAll() {\n    const rows: string[] = [];\n    rows.push(['Parent','Email','Phone','Child','Days','Rate','Subtotal','Total'].join(','));\n    data.forEach(r => {\n      const parentName = r.parent ? `${r.parent.firstName || ''} ${r.parent.lastName || ''}`.trim() : '';\n      const email = r.parent?.email || '';\n      const phone = r.parent?.phone || '';\n      (r.details || []).forEach(d => {\n        rows.push([`\"${parentName}\"`,`\"${email}\"`,`\"${phone}\"`,`\"${d.childName}\"`,String(d.daysPresent),String(d.ratePerDay),String(d.subtotal),String(r.total)].join(','));\n      });\n    });\n    const blob = new Blob([rows.join('\\n')], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `payment-history-${year}-${String(month).padStart(2,'0')}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  \n\n  async function downloadInvoice(paymentId: string, filename?: string) {\n    try {\n      setLoading(true);\n      const res = await fetchWithRefresh(`${API_URL}/payment-history/invoice/${paymentId}`, { credentials: 'include' });\n      if (!res.ok) {\n        const text = await res.text().catch(() => '');\n          // For 403 we show a friendly modal message to the user instead of raw server text\n          if (res.status === 403) {\n          // Try to extract a clean message from JSON or plain text.\n          let friendly = t('payments.errors.invoice_not_ready');\n          if (text && text.trim().length > 0) {\n            const t = text.trim();\n            try {\n              const parsed = JSON.parse(t);\n              if (parsed && typeof parsed === 'object') {\n                if (typeof parsed.message === 'string' && parsed.message.trim()) {\n                  friendly = parsed.message.trim();\n                } else if (typeof parsed.error === 'string' && parsed.error.trim()) {\n                  friendly = parsed.error.trim();\n                } else {\n                  // pick first string value inside object if available\n                  const firstString = Object.values(parsed).find(v => typeof v === 'string' && v.trim());\n                  if (typeof firstString === 'string') friendly = firstString.trim();\n                }\n              } else if (t.length < 500) {\n                friendly = t;\n              }\n            } catch {\n              // not JSON, use trimmed text if reasonable length\n              if (t.length < 500) friendly = t;\n            }\n          }\n          showModal(friendly);\n          return;\n        }\n        throw new Error(`HTTP ${res.status} ${res.statusText} - ${text}`);\n      }\n      const ct = res.headers.get('content-type') || '';\n      if (!ct.includes('application/pdf')) {\n        const text = await res.text().catch(() => '');\n        throw new Error('Unexpected response when fetching invoice: ' + text);\n      }\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = filename || `invoice-${paymentId}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n    } catch (err: unknown) {\n      console.error('Invoice download failed', err);\n      const isErrWithMessage = (e: unknown): e is { message: string } => {\n        if (!e || typeof e !== 'object') return false;\n        const rec = e as Record<string, unknown>;\n        return 'message' in rec && typeof rec['message'] === 'string';\n      };\n      const msg = ((): string => {\n        if (!err) return '';\n        if (typeof err === 'string') return err;\n        if (isErrWithMessage(err)) return err.message;\n        try { return JSON.stringify(err); } catch { return String(err); }\n      })();\n  // Use the app modal instead of a native alert for nicer UX\n  showModal(msg || t('payments.errors.invoice_download'));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function togglePaid(id: string, paid: boolean) {\n    // optimistic update\n  setData(d => d.map(r => r.id === id ? { ...r, paid } : r));\n    try {\n      const res = await fetch(`${API_URL}/payment-history/${id}/paid`, {\n        method: 'PATCH',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ paid })\n      });\n      if (!res.ok) {\n        throw new Error('Failed to update');\n      }\n      const json = await res.json();\n      // replace with server record if provided\n      if (json && json.record) {\n        setData(d => d.map(r => r.id === id ? json.record : r));\n      }\n    } catch (err) {\n      console.error('Failed to toggle paid', err);\n      // revert optimistic\n      setData(d => d.map(r => r.id === id ? { ...r, paid: !paid } : r));\n      showModal('Erreur lors de la mise à jour du statut de paiement.');\n    }\n  }\n\n\n  return (\n    <div className={`relative z-0 min-h-screen bg-[#fcfcff] p-4 ${!isShortLandscape ? 'md:pl-64' : ''} w-full`}>\n      <div className=\"max-w-7xl mx-auto w-full\">\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6 w-full\">\n          <div>\n            <h1 className=\"text-2xl md:text-3xl font-extrabold mb-1 tracking-tight\" style={{ color: '#0b5566' }}>{t('page.payments')}</h1>\n            <div className=\"text-base md:text-lg font-medium mb-4 md:mb-6\" style={{ color: '#08323a' }}>{t('page.payments.description')}</div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg p-4 mb-4 shadow-sm\">\n          <div className=\"flex flex-col gap-3\">\n            <div className=\"flex flex-col md:flex-row gap-3 items-start md:items-center\">\n              <div className=\"flex gap-2 items-center flex-wrap justify-center md:justify-start w-full md:w-auto\">\n                <select value={month} onChange={e => setMonth(Number(e.target.value))} className=\"border p-2 rounded w-36\">\n                  {monthNames.map((name, idx) => <option key={idx} value={idx + 1}>{name}</option>)}\n                </select>\n                <select value={year} onChange={e => setYear(Number(e.target.value))} className=\"border p-2 rounded w-36\">\n                  {yearOptions.map(y => <option key={y} value={y}>{y}</option>)}\n                </select>\n              </div>\n              <div className=\"flex flex-1 w-full\">\n                <select value={parentFilter} onChange={e => setParentFilter(e.target.value)} className=\"border p-2 rounded w-full md:w-64\">\n                  <option value=\"\">{t('payments.filter.all_parents')}</option>\n                  {parents.map((p, idx) => {\n                    const name = p ? `${p.firstName || ''} ${p.lastName || ''}`.trim() : '—';\n                    return <option key={p?.id || idx} value={p?.id || ''}>{name}</option>;\n                  })}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"flex flex-col md:flex-row gap-2 md:space-x-2\">\n              <button onClick={async () => {\n                if (!parentFilter) { showModal(t('payments.errors.select_parent')); return; }\n                const rec = data.find(r => r.parent && r.parent.id === parentFilter);\n                if (!rec) { showModal(t('payments.errors.no_record_parent')); return; }\n                await downloadInvoice(rec.id, `facture-${year}-${String(month).padStart(2,'0')}-${rec.parent?.lastName || rec.id}.pdf`);\n              }} className=\"bg-blue-500 text-white px-4 py-2 rounded w-full md:w-32 text-center\">{t('payments.download_invoice')}</button>\n              <button onClick={downloadCSVForAll} className=\"bg-green-500 text-white px-4 py-2 rounded w-full md:w-32 text-center\">{t('payments.export_csv')}</button>\n              <button onClick={() => window.print()} className=\"bg-red-500 text-white px-4 py-2 rounded w-full md:w-32 text-center\">{t('payments.print')}</button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4\">\n          <div className=\"bg-white rounded-xl shadow border border-gray-100 p-4\">\n            <div className=\"text-sm text-gray-500\">{t('payments.card.month_revenue')}</div>\n            <div className=\"text-2xl font-bold mt-1\">{new Intl.NumberFormat(locale || 'fr-FR', { style: 'currency', currency: 'EUR' }).format(totalRevenue)}</div>\n          </div>\n          <div className=\"bg-white rounded-xl shadow border border-gray-100 p-4\">\n            <div className=\"text-sm text-gray-500\">{t('payments.card.families_active')}</div>\n            <div className=\"text-2xl font-bold mt-1\">{familiesActive}</div>\n          </div>\n          <div className=\"bg-white rounded-xl shadow border border-gray-100 p-4\">\n            <div className=\"text-sm text-gray-500\">{t('payments.card.unpaid')}</div>\n            <div className=\"text-2xl font-bold mt-1\">{unpaidCount}</div>\n          </div>\n        </div>\n\n        <div className=\"grid gap-4\">\n            {modalVisible && (\n              <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n                <div className=\"absolute inset-0 bg-black/40\" onClick={() => setModalVisible(false)} />\n                <div role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-title\" aria-describedby=\"modal-desc\" className=\"relative max-w-md w-full bg-white rounded-lg shadow-lg p-6 mx-4\">\n                  <h3 id=\"modal-title\" className=\"text-lg font-semibold text-gray-900\">Information</h3>\n                  <p id=\"modal-desc\" className=\"mt-3 text-sm text-gray-700\">{modalMessage}</p>\n                  <div className=\"mt-6 flex justify-end\">\n                    <button onClick={() => setModalVisible(false)} className=\"px-4 py-2 bg-green-600 text-white rounded\">OK</button>\n                  </div>\n                </div>\n              </div>\n            )}\n          {error && <div className=\"bg-red-50 border border-red-100 text-red-700 p-3 rounded\">{error}</div>}\n          {loading && <div>{t('loading')}</div>}\n          {!loading && filtered.length === 0 && <div className=\"text-gray-500\">{t('payments.history.empty')}</div>}\n          {filtered.map(rec => (\n            <div key={rec.id} className=\"rounded-lg overflow-hidden shadow\">\n              {/* Family header gradient */}\n              <div className=\"flex flex-col md:flex-row md:items-center md:justify-between p-4 md:p-6 bg-gradient-to-r from-green-50 to-green-100 gap-4\">\n                 <div className=\"flex items-center gap-4\">\n                   <div className=\"w-12 h-12 rounded-full bg-green-500 text-white flex items-center justify-center font-bold\">{(rec.parent ? `${rec.parent.firstName || ''}`.slice(0,1) + (rec.parent?.lastName || '').slice(0,1) : '--').toUpperCase()}</div>\n                   <div>\n                     <div className=\"text-lg font-bold text-gray-900\">{rec.parent ? `${rec.parent.firstName || ''} ${rec.parent.lastName || ''}`.trim() : t('common.none')}</div>\n                     <div className=\"text-sm text-gray-500\">{rec.parent?.email ?? ''}{rec.parent?.phone ? ` • ${rec.parent?.phone}` : ''}</div>\n                   </div>\n                 </div>\n                 <div className=\"text-right\">\n                   <div className=\"flex items-center justify-end gap-2\">\n                     <div className=\"text-xs text-gray-500\">\n                       {rec.invoiceNumber ? <span className=\"mr-2 font-medium\">{rec.invoiceNumber}</span> : null}\n                       {rec.createdAt ? new Date(rec.createdAt).toLocaleDateString('fr-FR') : ''}\n                     </div>\n                     { rec.paid ? <div className=\"text-sm text-green-700 font-semibold bg-green-100 px-3 py-1 rounded-full\">{t('payments.status.paid')}</div> : <div className=\"text-sm text-gray-500\">{t('payments.status.unpaid')}</div> }\n                     {user && (user.role === 'admin' || (user.role && user.role.toLowerCase().includes('super'))) && (\n                       <button onClick={() => togglePaid(rec.id, !rec.paid)} className=\"text-sm px-2 py-1 bg-blue-500 text-white rounded\">{rec.paid ? t('payments.actions.mark_unpaid') : t('payments.actions.mark_paid')}</button>\n                     )}\n                   </div>\n                 </div>\n               </div>\n\n               {/* Detail by child header */}\n               <div className=\"px-6 py-4 bg-white border-t\">\n                 <div className=\"text-sm text-gray-600 font-medium mb-3\">{t('payments.detail.header', { month: new Date(year, month-1).toLocaleString(locale || 'fr-FR', { month: 'long', year: 'numeric' }) })}</div>\n                 <div className=\"space-y-3\">\n                   {Array.isArray(rec.details) && rec.details.length > 0 ? rec.details.map((d, idx) => (\n                    <div key={idx} className=\"bg-gray-50 rounded-lg p-4 flex flex-col md:flex-row md:items-center justify-between gap-3\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 rounded-full bg-orange-200 text-orange-700 flex items-center justify-center font-bold\">{(d.childName || '').slice(0,1).toUpperCase()}</div>\n                        <div>\n                          <div className=\"font-semibold text-gray-800\">{d.childName}</div>\n                          <div className=\"text-xs text-gray-400\">{/* age/group not available */}</div>\n                        </div>\n                      </div>\n                      <div className=\"text-right text-sm\">\n                    <div className=\"text-gray-500\"><span className=\"inline-block mr-2\">📅</span>{d.daysPresent} {t('payments.days')}</div>\n                    <div className=\"text-green-600 font-semibold mt-1\">{d.daysPresent} × {new Intl.NumberFormat(locale || 'fr-FR', { style: 'currency', currency: 'EUR' }).format(d.ratePerDay)} = {new Intl.NumberFormat(locale || 'fr-FR', { style: 'currency', currency: 'EUR' }).format(d.subtotal)}</div>\n                      </div>\n                    </div>\n                   )) : (\n                     <div className=\"text-gray-500\">{t('payments.no_child_this_month')}</div>\n                   )}\n                 </div>\n               </div>\n\n              <div className=\"flex flex-col md:flex-row md:items-center md:justify-between p-4 md:p-6 bg-gradient-to-r from-green-50 to-green-100 gap-3\">\n                <div>\n                  <div className=\"text-sm font-semibold text-gray-800\">{t('payments.family.total_label')}</div>\n                  <div className=\"text-xs text-gray-500\">{Array.isArray(rec.details) ? t('payments.family.summary', { n: String(rec.details.length), days: String(rec.details.reduce((s,d)=>s+(d.daysPresent||0),0)) }) : ''}</div>\n                </div>\n                <div className=\"flex items-center gap-4 flex-col md:flex-row w-full md:w-auto\">\n                  <div className=\"text-2xl font-extrabold text-green-700\">{new Intl.NumberFormat(locale || 'fr-FR', { style: 'currency', currency: 'EUR' }).format(Number(rec.total))}</div>\n                  <div className=\"w-full md:w-auto flex justify-center md:justify-end\">\n                    <a href=\"#\" onClick={e => { e.preventDefault(); downloadInvoice(rec.id, `facture-${year}-${String(month).padStart(2,'0')}-${rec.parent?.lastName || rec.id}.pdf`); }} className=\"px-4 py-2 bg-green-600 text-white rounded text-sm w-full md:w-auto text-center\">{rec.invoiceNumber ? `${t('payments.download_invoice')} (${rec.invoiceNumber})` : t('payments.download_invoice')}</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["meta","API_URL","PaymentHistoryPage","t","locale","useI18n","isShortLandscape","setIsShortLandscape","useState","useEffect","mql","onChange","month","setMonth","year","setYear","data","setData","loading","setLoading","parentFilter","setParentFilter","error","setError","modalVisible","setModalVisible","modalMessage","setModalMessage","user","useAuth","showModal","message","monthNames","yearOptions","_","i","mounted","fetchWithRefresh","res","ct","text","e","d","err","parents","r","filtered","totalRevenue","s","familiesActive","unpaidCount","downloadCSVForAll","rows","parentName","email","phone","blob","url","a","downloadInvoice","paymentId","filename","friendly","parsed","firstString","v","isErrWithMessage","rec","msg","togglePaid","id","paid","json","jsx","jsxs","name","idx","y","p"],"mappings":"uGAKA,MAAMA,EAAO,YACPC,EAAUD,GAAM,KAAK,cAAgB,OAK3C,SAAwBE,IAAqB,CAC3C,KAAM,CAAE,EAAAC,EAAG,OAAAC,CAAA,EAAWC,EAAA,EAChB,CAACC,EAAkBC,CAAmB,EAAIC,EAAAA,SAAS,EAAK,EAC9DC,EAAAA,UAAU,IAAM,CACd,GAAI,OAAO,OAAW,KAAe,OAAO,OAAO,YAAe,WAAY,OAC9E,MAAMC,EAAM,OAAO,WAAW,kDAAkD,EAC1EC,EAAW,IAAMJ,EAAoB,EAAQG,EAAI,OAAQ,EAC/D,OAAAC,EAAA,EACI,OAAOD,EAAI,kBAAqB,WAAYA,EAAI,iBAAiB,SAAUC,CAAQ,EAAQD,EAAI,YAAYC,CAAQ,EACvH,OAAO,iBAAiB,SAAUA,CAAQ,EAC1C,OAAO,iBAAiB,oBAAqBA,CAAQ,EAC9C,IAAM,CAAE,GAAI,CAAM,OAAOD,EAAI,qBAAwB,WAAYA,EAAI,oBAAoB,SAAUC,CAAQ,EAAQD,EAAI,eAAeC,CAAQ,CAAG,MAAQ,CAAe,CAAE,OAAO,oBAAoB,SAAUA,CAAQ,EAAG,OAAO,oBAAoB,oBAAqBA,CAAQ,CAAG,CAC9R,EAAG,CAAA,CAAE,EACL,KAAM,CAACC,EAAOC,CAAQ,EAAIL,EAAAA,aAAqB,KAAA,EAAO,SAAA,EAAa,CAAC,EAC9D,CAACM,EAAMC,CAAO,EAAIP,EAAAA,SAAiB,IAAI,KAAA,EAAO,aAAa,EAC3D,CAACQ,EAAMC,CAAO,EAAIT,EAAAA,SAAuB,CAAA,CAAE,EAC3C,CAACU,EAASC,CAAU,EAAIX,EAAAA,SAAS,EAAK,EACtC,CAACY,EAAcC,CAAe,EAAIb,EAAAA,SAAiB,EAAE,EACrD,CAACc,EAAOC,CAAQ,EAAIf,EAAAA,SAAiB,EAAE,EACvC,CAACgB,EAAcC,CAAe,EAAIjB,EAAAA,SAAkB,EAAK,EACzD,CAACkB,EAAcC,CAAe,EAAInB,EAAAA,SAAiB,EAAE,EACrD,CAAE,KAAAoB,CAAA,EAASC,EAAA,EAEjB,SAASC,EAAUC,EAAiB,CAClCJ,EAAgBI,CAAO,EACvBN,EAAgB,EAAI,CACtB,CAEA,MAAMO,EAAa,CAAC,UAAU,UAAU,OAAO,QAAQ,MAAM,OAAO,UAAU,OAAO,YAAY,UAAU,WAAW,UAAU,EAC1HC,EAAc,MAAM,KAAK,CAAE,OAAQ,GAAK,CAACC,EAAGC,QAAU,KAAA,EAAO,YAAA,EAAgB,EAAIA,CAAC,EAExF1B,EAAAA,UAAU,IAAM,CACd,IAAI2B,EAAU,GACd,OAAAjB,EAAW,EAAI,EACfI,EAAS,EAAE,EACXc,EAAiB,GAAGpC,CAAO,oBAAoBa,CAAI,IAAIF,CAAK,GAAI,CAAE,YAAa,SAAA,CAAW,EACvF,KAAK,MAAM0B,GAAO,CACjB,MAAMC,EAAKD,EAAI,QAAQ,IAAI,cAAc,GAAK,GAC9C,GAAI,CAACA,EAAI,GAAI,CACX,IAAIE,EACJ,GAAI,CAAEA,EAAO,MAAMF,EAAI,MAAA,EAAQ,KAAA,CAAQ,OAASG,EAAG,CAAED,EAAO,OAAOC,CAAC,CAAG,CACvE,MAAM,IAAI,MAAM,QAAQH,EAAI,MAAM,IAAIA,EAAI,UAAU,MAAME,CAAI,EAAE,CAClE,CACA,GAAI,CAACD,EAAG,SAAS,kBAAkB,EAAG,CACpC,MAAMC,EAAO,MAAMF,EAAI,KAAA,EACvB,MAAM,IAAI,MAAM,0CAA4CE,EAAK,MAAM,EAAG,GAAG,CAAC,CAChF,CACA,OAAOF,EAAI,KAAA,CACb,CAAC,EACA,KAAKI,GAAK,CAAMN,KAAiB,MAAM,QAAQM,CAAC,EAAIA,EAAI,EAAE,CAAG,CAAC,EAC9D,MAAMC,GAAO,CAAE,QAAQ,MAAM,kCAAmCA,CAAG,EAAOP,GAASnB,EAAQ,EAAE,EAAOmB,GAASb,EAAS,OAAOoB,EAAI,SAAWA,CAAG,CAAC,CAAG,CAAC,EACpJ,QAAQ,IAAM,CAAMP,KAAoB,EAAK,CAAG,CAAC,EAC7C,IAAM,CAAEA,EAAU,EAAO,CAClC,EAAG,CAACtB,EAAMF,CAAK,CAAC,EAGhB,MAAMgC,EAAU,MAAM,KAAK,IAAI,IAC7B5B,EAAK,OAAO6B,GAAKA,EAAE,QAAUA,EAAE,OAAO,EAAE,EAAE,OAAS,CAACA,EAAE,OAAQ,GAAKA,EAAE,MAAO,CAAC,CAAA,EAC7E,QAAQ,EACJC,EAAW9B,EAAK,OAAO6B,GACvB,EAAAzB,IACE,CAACyB,EAAE,QAAUA,EAAE,OAAO,KAAOzB,GAGpC,EAEK2B,EAAe/B,EAAK,OAAO,CAACgC,EAAGH,IAAMG,GAAK,OAAOH,EAAE,KAAK,GAAK,GAAI,CAAC,EAClEI,EAAiBjC,EAAK,OAEtBkC,EAAclC,EAAK,OAAO6B,IAAM,OAAOA,EAAE,KAAK,GAAK,GAAK,GAAK,CAACA,EAAE,IAAI,EAAE,OAE5E,SAASM,GAAoB,CAC3B,MAAMC,EAAiB,CAAA,EACvBA,EAAK,KAAK,CAAC,SAAS,QAAQ,QAAQ,QAAQ,OAAO,OAAO,WAAW,OAAO,EAAE,KAAK,GAAG,CAAC,EACvFpC,EAAK,QAAQ6B,GAAK,CAChB,MAAMQ,EAAaR,EAAE,OAAS,GAAGA,EAAE,OAAO,WAAa,EAAE,IAAIA,EAAE,OAAO,UAAY,EAAE,GAAG,OAAS,GAC1FS,EAAQT,EAAE,QAAQ,OAAS,GAC3BU,EAAQV,EAAE,QAAQ,OAAS,IAChCA,EAAE,SAAW,CAAA,GAAI,QAAQH,GAAK,CAC7BU,EAAK,KAAK,CAAC,IAAIC,CAAU,IAAI,IAAIC,CAAK,IAAI,IAAIC,CAAK,IAAI,IAAIb,EAAE,SAAS,IAAI,OAAOA,EAAE,WAAW,EAAE,OAAOA,EAAE,UAAU,EAAE,OAAOA,EAAE,QAAQ,EAAE,OAAOG,EAAE,KAAK,CAAC,EAAE,KAAK,GAAG,CAAC,CACpK,CAAC,CACH,CAAC,EACD,MAAMW,EAAO,IAAI,KAAK,CAACJ,EAAK,KAAK;AAAA,CAAI,CAAC,EAAG,CAAE,KAAM,0BAA2B,EACtEK,EAAM,IAAI,gBAAgBD,CAAI,EAC9BE,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOD,EACTC,EAAE,SAAW,mBAAmB5C,CAAI,IAAI,OAAOF,CAAK,EAAE,SAAS,EAAE,GAAG,CAAC,OACrE8C,EAAE,MAAA,EACF,IAAI,gBAAgBD,CAAG,CACzB,CAIA,eAAeE,EAAgBC,EAAmBC,EAAmB,CACnE,GAAI,CACF1C,EAAW,EAAI,EACf,MAAMmB,EAAM,MAAMD,EAAiB,GAAGpC,CAAO,4BAA4B2D,CAAS,GAAI,CAAE,YAAa,SAAA,CAAW,EAChH,GAAI,CAACtB,EAAI,GAAI,CACX,MAAME,EAAO,MAAMF,EAAI,OAAO,MAAM,IAAM,EAAE,EAE1C,GAAIA,EAAI,SAAW,IAAK,CAExB,IAAIwB,EAAW3D,EAAE,mCAAmC,EACpD,GAAIqC,GAAQA,EAAK,KAAA,EAAO,OAAS,EAAG,CAClC,MAAMrC,EAAIqC,EAAK,KAAA,EACf,GAAI,CACF,MAAMuB,EAAS,KAAK,MAAM5D,CAAC,EAC3B,GAAI4D,GAAU,OAAOA,GAAW,SAC9B,GAAI,OAAOA,EAAO,SAAY,UAAYA,EAAO,QAAQ,OACvDD,EAAWC,EAAO,QAAQ,KAAA,UACjB,OAAOA,EAAO,OAAU,UAAYA,EAAO,MAAM,OAC1DD,EAAWC,EAAO,MAAM,KAAA,MACnB,CAEL,MAAMC,EAAc,OAAO,OAAOD,CAAM,EAAE,KAAKE,GAAK,OAAOA,GAAM,UAAYA,EAAE,KAAA,CAAM,EACjF,OAAOD,GAAgB,WAAUF,EAAWE,EAAY,KAAA,EAC9D,MACS7D,EAAE,OAAS,MACpB2D,EAAW3D,EAEf,MAAQ,CAEFA,EAAE,OAAS,MAAK2D,EAAW3D,EACjC,CACF,CACA2B,EAAUgC,CAAQ,EAClB,MACF,CACA,MAAM,IAAI,MAAM,QAAQxB,EAAI,MAAM,IAAIA,EAAI,UAAU,MAAME,CAAI,EAAE,CAClE,CAEA,GAAI,EADOF,EAAI,QAAQ,IAAI,cAAc,GAAK,IACtC,SAAS,iBAAiB,EAAG,CACnC,MAAME,EAAO,MAAMF,EAAI,OAAO,MAAM,IAAM,EAAE,EAC5C,MAAM,IAAI,MAAM,8CAAgDE,CAAI,CACtE,CACA,MAAMgB,EAAO,MAAMlB,EAAI,KAAA,EACjBmB,EAAM,IAAI,gBAAgBD,CAAI,EAC9BE,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOD,EACTC,EAAE,SAAWG,GAAY,WAAWD,CAAS,OAC7C,SAAS,KAAK,YAAYF,CAAC,EAC3BA,EAAE,MAAA,EACFA,EAAE,OAAA,EACF,IAAI,gBAAgBD,CAAG,CACzB,OAASd,EAAc,CACrB,QAAQ,MAAM,0BAA2BA,CAAG,EAC5C,MAAMuB,EAAoBzB,GAAyC,CACjE,GAAI,CAACA,GAAK,OAAOA,GAAM,SAAU,MAAO,GACxC,MAAM0B,EAAM1B,EACZ,MAAO,YAAa0B,GAAO,OAAOA,EAAI,SAAe,QACvD,EACMC,GAAO,IAAc,CACzB,GAAI,CAACzB,EAAK,MAAO,GACjB,GAAI,OAAOA,GAAQ,SAAU,OAAOA,EACpC,GAAIuB,EAAiBvB,CAAG,EAAG,OAAOA,EAAI,QACtC,GAAI,CAAE,OAAO,KAAK,UAAUA,CAAG,CAAG,MAAQ,CAAE,OAAO,OAAOA,CAAG,CAAG,CAClE,GAAA,EAEJb,EAAUsC,GAAOjE,EAAE,kCAAkC,CAAC,CACpD,QAAA,CACEgB,EAAW,EAAK,CAClB,CACF,CAEA,eAAekD,EAAWC,EAAYC,EAAe,CAErDtD,EAAQyB,GAAKA,EAAE,IAAI,GAAK,EAAE,KAAO4B,EAAK,CAAE,GAAG,EAAG,KAAAC,CAAA,EAAS,CAAC,CAAC,EACvD,GAAI,CACF,MAAMjC,EAAM,MAAM,MAAM,GAAGrC,CAAO,oBAAoBqE,CAAE,QAAS,CAC/D,OAAQ,QACR,YAAa,UACb,QAAS,CAAE,eAAgB,kBAAA,EAC3B,KAAM,KAAK,UAAU,CAAE,KAAAC,EAAM,CAAA,CAC9B,EACD,GAAI,CAACjC,EAAI,GACP,MAAM,IAAI,MAAM,kBAAkB,EAEpC,MAAMkC,EAAO,MAAMlC,EAAI,KAAA,EAEnBkC,GAAQA,EAAK,QACfvD,EAAQyB,GAAKA,EAAE,IAAIG,GAAKA,EAAE,KAAOyB,EAAKE,EAAK,OAAS3B,CAAC,CAAC,CAE1D,OAASF,EAAK,CACZ,QAAQ,MAAM,wBAAyBA,CAAG,EAE1C1B,EAAQyB,GAAKA,EAAE,IAAIG,GAAKA,EAAE,KAAOyB,EAAK,CAAE,GAAGzB,EAAG,KAAM,CAAC0B,CAAA,EAAS1B,CAAC,CAAC,EAChEf,EAAU,sDAAsD,CAClE,CACF,CAGA,OACE2C,EAAAA,IAAC,MAAA,CAAI,UAAW,8CAA+CnE,EAAgC,GAAb,UAAe,UAC/F,SAAAoE,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,iFACb,SAAAC,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,0DAA0D,MAAO,CAAE,MAAO,SAAA,EAAc,SAAAtE,EAAE,eAAe,CAAA,CAAE,EACzHsE,EAAAA,IAAC,MAAA,CAAI,UAAU,gDAAgD,MAAO,CAAE,MAAO,SAAA,EAAc,SAAAtE,EAAE,2BAA2B,CAAA,CAAE,CAAA,CAAA,CAC9H,CAAA,CACF,QAEC,MAAA,CAAI,UAAU,yCACb,SAAAuE,EAAAA,KAAC,MAAA,CAAI,UAAU,sBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qFACb,SAAA,CAAAD,EAAAA,IAAC,SAAA,CAAO,MAAO7D,EAAO,SAAU,GAAKC,EAAS,OAAO,EAAE,OAAO,KAAK,CAAC,EAAG,UAAU,0BAC9E,SAAAmB,EAAW,IAAI,CAAC2C,EAAMC,IAAQH,EAAAA,IAAC,SAAA,CAAiB,MAAOG,EAAM,EAAI,SAAAD,CAAA,EAAtBC,CAA2B,CAAS,EAClF,EACAH,EAAAA,IAAC,SAAA,CAAO,MAAO3D,EAAM,YAAeC,EAAQ,OAAO,EAAE,OAAO,KAAK,CAAC,EAAG,UAAU,0BAC5E,SAAAkB,EAAY,IAAI4C,GAAKJ,EAAAA,IAAC,SAAA,CAAe,MAAOI,EAAI,SAAAA,CAAA,EAAdA,CAAgB,CAAS,CAAA,CAC9D,CAAA,EACF,QACC,MAAA,CAAI,UAAU,qBACb,SAAAH,EAAAA,KAAC,UAAO,MAAOtD,EAAc,SAAU,GAAKC,EAAgB,EAAE,OAAO,KAAK,EAAG,UAAU,oCACrF,SAAA,CAAAoD,MAAC,SAAA,CAAO,MAAM,GAAI,SAAAtE,EAAE,6BAA6B,EAAE,EAClDyC,EAAQ,IAAI,CAACkC,EAAGF,IAAQ,CACvB,MAAMD,EAAOG,EAAI,GAAGA,EAAE,WAAa,EAAE,IAAIA,EAAE,UAAY,EAAE,GAAG,KAAA,EAAS,IACrE,OAAOL,EAAAA,IAAC,UAA0B,MAAOK,GAAG,IAAM,GAAK,SAAAH,CAAA,EAAnCG,GAAG,IAAMF,CAA+B,CAC9D,CAAC,CAAA,CAAA,CACH,CAAA,CACF,CAAA,EACF,EAEAF,EAAAA,KAAC,MAAA,CAAI,UAAU,+CACb,SAAA,CAAAD,MAAC,SAAA,CAAO,QAAS,SAAY,CAC3B,GAAI,CAACrD,EAAc,CAAEU,EAAU3B,EAAE,+BAA+B,CAAC,EAAG,MAAQ,CAC5E,MAAMgE,EAAMnD,EAAK,KAAK6B,GAAKA,EAAE,QAAUA,EAAE,OAAO,KAAOzB,CAAY,EACnE,GAAI,CAAC+C,EAAK,CAAErC,EAAU3B,EAAE,kCAAkC,CAAC,EAAG,MAAQ,CACtE,MAAMwD,EAAgBQ,EAAI,GAAI,WAAWrD,CAAI,IAAI,OAAOF,CAAK,EAAE,SAAS,EAAE,GAAG,CAAC,IAAIuD,EAAI,QAAQ,UAAYA,EAAI,EAAE,MAAM,CACxH,EAAG,UAAU,sEAAuE,SAAAhE,EAAE,2BAA2B,EAAE,EACnHsE,EAAAA,IAAC,UAAO,QAAStB,EAAmB,UAAU,uEAAwE,SAAAhD,EAAE,qBAAqB,EAAE,EAC/IsE,EAAAA,IAAC,SAAA,CAAO,QAAS,IAAM,OAAO,QAAS,UAAU,qEAAsE,SAAAtE,EAAE,gBAAgB,CAAA,CAAE,CAAA,CAAA,CAC7I,CAAA,CAAA,CACF,CAAA,CACF,EAEAuE,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wDACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,wBAAyB,SAAAtE,EAAE,6BAA6B,EAAE,QACxE,MAAA,CAAI,UAAU,0BAA2B,SAAA,IAAI,KAAK,aAAaC,GAAU,QAAS,CAAE,MAAO,WAAY,SAAU,KAAA,CAAO,EAAE,OAAO2C,CAAY,CAAA,CAAE,CAAA,EAClJ,EACA2B,EAAAA,KAAC,MAAA,CAAI,UAAU,wDACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,wBAAyB,SAAAtE,EAAE,+BAA+B,EAAE,EAC3EsE,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA2B,SAAAxB,CAAA,CAAe,CAAA,EAC3D,EACAyB,EAAAA,KAAC,MAAA,CAAI,UAAU,wDACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,wBAAyB,SAAAtE,EAAE,sBAAsB,EAAE,EAClEsE,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA2B,SAAAvB,CAAA,CAAY,CAAA,CAAA,CACxD,CAAA,EACF,EAEAwB,EAAAA,KAAC,MAAA,CAAI,UAAU,aACV,SAAA,CAAAlD,GACCkD,EAAAA,KAAC,MAAA,CAAI,UAAU,sDACb,SAAA,CAAAD,MAAC,OAAI,UAAU,+BAA+B,QAAS,IAAMhD,EAAgB,EAAK,EAAG,EACrFiD,EAAAA,KAAC,MAAA,CAAI,KAAK,SAAS,aAAW,OAAO,kBAAgB,cAAc,mBAAiB,aAAa,UAAU,kEACzG,SAAA,CAAAD,MAAC,KAAA,CAAG,GAAG,cAAc,UAAU,sCAAsC,SAAA,cAAW,QAC/E,IAAA,CAAE,GAAG,aAAa,UAAU,6BAA8B,SAAA/C,EAAa,EACxE+C,EAAAA,IAAC,MAAA,CAAI,UAAU,wBACb,eAAC,SAAA,CAAO,QAAS,IAAMhD,EAAgB,EAAK,EAAG,UAAU,4CAA4C,cAAE,CAAA,CACzG,CAAA,CAAA,CACF,CAAA,EACF,EAEHH,GAASmD,EAAAA,IAAC,MAAA,CAAI,UAAU,2DAA4D,SAAAnD,EAAM,EAC1FJ,GAAWuD,EAAAA,IAAC,MAAA,CAAK,SAAAtE,EAAE,SAAS,EAAE,EAC9B,CAACe,GAAW4B,EAAS,SAAW,GAAK2B,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAiB,SAAAtE,EAAE,wBAAwB,CAAA,CAAE,EACjG2C,EAAS,IAAIqB,GACZO,EAAAA,KAAC,MAAA,CAAiB,UAAU,oCAE1B,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,4HACZ,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAD,EAAAA,IAAC,MAAA,CAAI,UAAU,4FAA8F,UAAAN,EAAI,OAAS,GAAGA,EAAI,OAAO,WAAa,EAAE,GAAG,MAAM,EAAE,CAAC,GAAKA,EAAI,QAAQ,UAAY,IAAI,MAAM,EAAE,CAAC,EAAI,MAAM,YAAA,CAAY,CAAE,SACpO,MAAA,CACC,SAAA,CAAAM,EAAAA,IAAC,MAAA,CAAI,UAAU,kCAAmC,SAAAN,EAAI,OAAS,GAAGA,EAAI,OAAO,WAAa,EAAE,IAAIA,EAAI,OAAO,UAAY,EAAE,GAAG,OAAShE,EAAE,aAAa,CAAA,CAAE,EACtJuE,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAyB,SAAA,CAAAP,EAAI,QAAQ,OAAS,GAAIA,EAAI,QAAQ,MAAQ,MAAMA,EAAI,QAAQ,KAAK,GAAK,EAAA,CAAA,CAAG,CAAA,CAAA,CACtH,CAAA,EACF,QACC,MAAA,CAAI,UAAU,aACb,SAAAO,EAAAA,KAAC,MAAA,CAAI,UAAU,sCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wBACZ,SAAA,CAAAP,EAAI,cAAgBM,MAAC,OAAA,CAAK,UAAU,mBAAoB,SAAAN,EAAI,cAAc,EAAU,KACpFA,EAAI,UAAY,IAAI,KAAKA,EAAI,SAAS,EAAE,mBAAmB,OAAO,EAAI,EAAA,EACzE,EACEA,EAAI,KAAOM,EAAAA,IAAC,MAAA,CAAI,UAAU,2EAA4E,SAAAtE,EAAE,sBAAsB,CAAA,CAAE,QAAU,MAAA,CAAI,UAAU,wBAAyB,SAAAA,EAAE,wBAAwB,EAAE,EAC9MyB,IAASA,EAAK,OAAS,SAAYA,EAAK,MAAQA,EAAK,KAAK,YAAA,EAAc,SAAS,OAAO,UACtF,SAAA,CAAO,QAAS,IAAMyC,EAAWF,EAAI,GAAI,CAACA,EAAI,IAAI,EAAG,UAAU,mDAAoD,SAAAA,EAAI,KAAOhE,EAAE,8BAA8B,EAAIA,EAAE,4BAA4B,CAAA,CAAE,CAAA,CAAA,CAEvM,CAAA,CACF,CAAA,EACF,EAGAuE,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAD,EAAAA,IAAC,MAAA,CAAI,UAAU,yCAA0C,SAAAtE,EAAE,yBAA0B,CAAE,MAAO,IAAI,KAAKW,EAAMF,EAAM,CAAC,EAAE,eAAeR,GAAU,QAAS,CAAE,MAAO,OAAQ,KAAM,UAAW,CAAA,CAAG,CAAA,CAAE,EAC/LqE,EAAAA,IAAC,OAAI,UAAU,YACZ,eAAM,QAAQN,EAAI,OAAO,GAAKA,EAAI,QAAQ,OAAS,EAAIA,EAAI,QAAQ,IAAI,CAACzB,EAAGkC,IAC3EF,EAAAA,KAAC,MAAA,CAAc,UAAU,4FACvB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAD,EAAAA,IAAC,MAAA,CAAI,UAAU,kGAAoG,UAAA/B,EAAE,WAAa,IAAI,MAAM,EAAE,CAAC,EAAE,YAAA,CAAY,CAAE,SAC9J,MAAA,CACC,SAAA,CAAA+B,EAAAA,IAAC,MAAA,CAAI,UAAU,8BAA+B,SAAA/B,EAAE,UAAU,EAC1D+B,EAAAA,IAAC,MAAA,CAAI,UAAU,uBAAA,CAAuD,CAAA,CAAA,CACxE,CAAA,EACF,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAU,qBACjB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAU,oBAAoB,SAAA,KAAE,EAAQ/B,EAAE,YAAY,IAAEvC,EAAE,eAAe,CAAA,EAAE,EAChHuE,EAAAA,KAAC,MAAA,CAAI,UAAU,oCAAqC,SAAA,CAAAhC,EAAE,YAAY,MAAI,IAAI,KAAK,aAAatC,GAAU,QAAS,CAAE,MAAO,WAAY,SAAU,KAAA,CAAO,EAAE,OAAOsC,EAAE,UAAU,EAAE,MAAI,IAAI,KAAK,aAAatC,GAAU,QAAS,CAAE,MAAO,WAAY,SAAU,KAAA,CAAO,EAAE,OAAOsC,EAAE,QAAQ,CAAA,CAAA,CAAE,CAAA,CAAA,CAClR,CAAA,CAAA,EAXQkC,CAYV,CACA,EACCH,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAiB,SAAAtE,EAAE,8BAA8B,CAAA,CAAE,CAAA,CAEtE,CAAA,EACF,EAEDuE,EAAAA,KAAC,MAAA,CAAI,UAAU,4HACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,sCAAuC,SAAAtE,EAAE,6BAA6B,EAAE,EACvFsE,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,eAAM,QAAQN,EAAI,OAAO,EAAIhE,EAAE,0BAA2B,CAAE,EAAG,OAAOgE,EAAI,QAAQ,MAAM,EAAG,KAAM,OAAOA,EAAI,QAAQ,OAAO,CAAC,EAAEzB,IAAI,GAAGA,EAAE,aAAa,GAAG,CAAC,CAAC,CAAA,CAAG,EAAI,EAAA,CAAG,CAAA,EAC7M,EACAgC,EAAAA,KAAC,MAAA,CAAI,UAAU,gEACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,yCAA0C,SAAA,IAAI,KAAK,aAAarE,GAAU,QAAS,CAAE,MAAO,WAAY,SAAU,MAAO,EAAE,OAAO,OAAO+D,EAAI,KAAK,CAAC,EAAE,EACpKM,EAAAA,IAAC,OAAI,UAAU,sDACb,eAAC,IAAA,CAAE,KAAK,IAAI,QAAShC,GAAK,CAAEA,EAAE,eAAA,EAAkBkB,EAAgBQ,EAAI,GAAI,WAAWrD,CAAI,IAAI,OAAOF,CAAK,EAAE,SAAS,EAAE,GAAG,CAAC,IAAIuD,EAAI,QAAQ,UAAYA,EAAI,EAAE,MAAM,CAAG,EAAG,UAAU,iFAAkF,SAAAA,EAAI,cAAgB,GAAGhE,EAAE,2BAA2B,CAAC,KAAKgE,EAAI,aAAa,IAAMhE,EAAE,2BAA2B,EAAE,CAAA,CACpX,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EA3DQgE,EAAI,EA4Dd,CACD,CAAA,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}